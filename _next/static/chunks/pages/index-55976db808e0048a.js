(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6526)}])},6526:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return K},default:function(){return q}});var r=n(5893),o=n(5357),s=n(8527),i=n(6723),a=n(1391),u=n(4737),c=n(298),l=n(9604),p=(n(7786),n(640)),d=n.n(p),f=n(6486),m=n(7885),g=n(7294),h=n(3750),b=n(7106),x=n(3098),y=n(9762),w=n(7398),v=n(4612),j=n(660);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(u){a=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e){switch(e.type){case"field":return{type:"string",pattern:/^\d+$/,required:!0};case"u8":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,2})$"),required:!0};case"u16":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,4})$"),required:!0};case"u32":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,8})$"),required:!0};case"u64":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,16})$"),required:!0};case"bool":return{type:"boolean",required:!0};case"tuple":return{type:"array",minItems:e.components.elements.length,maxItems:e.components.elements.length,items:e.components.elements.map((function(e){return I(e)})),required:!0};case"array":return{type:"array",minItems:e.components.size,maxItems:e.components.size,items:I(e.components),required:!0};case"struct":return{type:"object",properties:e.components.members.reduce((function(e,t){return e[t.name]=I(t),e}),{}),required:!0};default:throw new Error("Unrecognized component type")}},A=function(e){try{return JSON.parse(e)}catch(t){return e}},E=function(e){return function(t){return j.validate(t,I(e))}},z=function(e){var t=e.artifacts.abi,n=(0,g.useState)({}),o=n[0],a=n[1],u=(0,g.useState)(null),c=u[0],l=u[1],p=(0,g.useState)(!1),d=p[0],f=p[1],m=function(e){f(!1);var t=e.data;switch(t.type){case"compute":l({type:"success",logs:t.payload.logs,message:"Program returned: ".concat(t.payload.output," (took ").concat((t.span.end-t.span.start).toFixed(2)," ms) \u2714\ufe0f"),timestamp:(new Date).toISOString()});break;case"error":if("compute"!==t.payload.type)return;console.error(t.payload.error),l({type:"error",message:t.payload.error,timestamp:(new Date).toISOString()})}};(0,g.useEffect)((function(){l(null),a((function(){return t.inputs.reduce((function(e,t){return O({},e,k({},t.name,{component:t,value:"",validator:E(t)}))}),{})}));var n=e.worker.onMessage().subscribe(m);return function(){return n.unsubscribe()}}),[e]);var b=function(e){return/u\d+|field/.test(e.component.type)?e.value:e.transformedValue};return(0,r.jsxs)(s.gC,{spacing:4,alignItems:"flex-start",as:"form",onSubmit:function(t){t.preventDefault(),l(null),f(!0),setTimeout((function(){var t={artifacts:e.artifacts,args:Object.values(o).map((function(e){return b(e)}))};e.worker.postMessage("compute",t)}),100)},minW:"200px",children:[Object.entries(o).map((function(e){var t=C(e,2),n=t[0],i=t[1],u=i.validator(b(i)),c=""!=i.value&&!u.valid;return(0,r.jsxs)(y.NI,{isInvalid:c,children:[(0,r.jsxs)(y.lX,{children:[(0,r.jsx)(s.xv,{fontWeight:"bold",as:"span",children:n}),": ",i.component.type]}),(0,r.jsx)(w.u,{hasArrow:!0,label:u.toString(),bg:"red.600",isDisabled:!c,as:"pre",whiteSpace:"pre-wrap",children:(0,r.jsx)(v.II,{type:"text",value:i.value,onChange:function(e){return function(e,t){return a(O({},o,k({},e,O({},o[e],{value:t,transformedValue:A(t)}))))}(n,e.target.value)},required:!0,fontFamily:"monospace"})})]},n)})),(0,r.jsx)(i.zx,{type:"submit",leftIcon:(0,r.jsx)(h.mz0,{}),isLoading:d,loadingText:"Running...",children:"Run"}),c&&(0,r.jsxs)(s.EK,{display:"block",whiteSpace:"pre-wrap",bg:"white",children:[c.logs&&(0,r.jsx)(s.xu,{mb:2,children:c.logs.map((function(e){return"[LOG] ".concat(e,"\n")}))}),(0,r.jsx)(s.xu,{color:"error"==c.type?"red":"green",children:c.message})]})]})},_=n(6904);var M=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messageSubject=new _.x,this.worker=new Worker(new URL(n.p+n.u(758),n.b)),this.worker.onmessage=function(e){return t.messageSubject.next(e)}}var t=e.prototype;return t.postMessage=function(e,t){this.worker.postMessage({type:e,payload:t})},t.onMessage=function(){return this.messageSubject.asObservable()},t.terminate=function(){this.worker.terminate()},e}(),P={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:"<",close:">",notIn:["string","comment"]}]},R={defaultToken:"",tokenPostfix:".zok",keywords:["log","assert","asm","as","bool","const","def","else","false","field","for","if","import","from","in","mut","private","public","return","struct","true","type","u8","u16","u32","u64"],typeKeywords:["bool","field","u8","u16","u32","u64"],operators:["=",">","<","!","?",":","==","<=",">=","!=","&&","||","+","-","*","**","/","&","|","^","%","<<",">>"],decimalSuffix:/(u16|u32|u64|u8|f)?/,symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z]\w*/,{cases:{"@typeKeywords":"type.identifier","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+(@decimalSuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},D=n(1876).Buffer,F="zokrates",K=!0,q=function(e){var t=(0,g.useState)(e.examples),p=t[0],y=t[1],w=(0,g.useState)(null),v=w[0],j=w[1],S=(0,g.useState)(null),k=S[0],O=S[1],C=(0,g.useState)(null),I=C[0],A=C[1],E=(0,g.useState)(!1),_=E[0],K=E[1],q=(0,g.useRef)(null),N=(0,g.useRef)(null),T=(0,o.pm)(),U=(0,g.useState)(null),$=U[0],L=U[1];(0,g.useEffect)((function(){var e=new M,t=e.onMessage().subscribe(Z);if(j((function(){return e})),n.e(524).then(n.bind(n,524)).then((function(e){L((function(){return e.Allotment}))})).catch((function(e){return console.error(e,"Could not import allotment: ".concat(e.message))})),!window.location.hash){var r=localStorage.getItem("user-data");if(r){var o=JSON.parse(r),s=o.source,i=o.timestamp;T({description:"Restored from last session (".concat(new Date(i).toLocaleString(),")"),status:"info",duration:3500,position:"top",isClosable:!0}),y((function(e){return Object.assign(e,{user:s})}))}}return function(){return t.unsubscribe()}}),[]);var Z=function(e){K(!1);var t=e.data;switch(t.type){case"compile":O((function(){return t.payload})),A({type:"success",message:"Compiled successfully in ".concat((t.span.end-t.span.start).toFixed(2)," ms (").concat(t.payload.constraintCount," constraints) \u2714\ufe0f"),timestamp:(new Date).toISOString()});break;case"error":if("compile"!==t.payload.type)return;console.error(t.payload.error),A({type:"error",message:t.payload.error,timestamp:(new Date).toISOString()})}},V=(0,f.debounce)((function(e){window.location.hash||"user"!==N.current.value||localStorage.setItem("user-data",JSON.stringify({source:e,timestamp:Date.now()}))}),250);return $?(0,r.jsx)(s.kC,{as:"main",minHeight:"100vh",children:(0,r.jsxs)(s.gC,{width:"100%",children:[(0,r.jsxs)(s.kC,{p:4,width:"100%",justifyContent:"space-between",children:[(0,r.jsxs)(s.Ug,{spacing:"12px",children:[(0,r.jsx)(i.zx,{leftIcon:(0,r.jsx)(b.T8D,{}),colorScheme:"blue",variant:"solid",onClick:function(){if(q.current){var e=q.current.getValue();K(!0),setTimeout((function(){return null===v||void 0===v?void 0:v.postMessage("compile",e)}),100)}},isLoading:_,loadingText:"Compiling",disabled:!v||!q,children:"Compile"}),(0,r.jsx)(a.Ph,{ref:N,variant:"filled",width:"200px",defaultValue:"user",onChange:function(e){q.current.getModel().setValue(p[e.currentTarget.value])},children:Object.keys(p).map((function(e){return(0,r.jsx)("option",{children:e},e)}))})]}),(0,r.jsxs)(s.Ug,{spacing:"12px",children:[(0,r.jsx)(i.hU,{"aria-label":"Share",size:"lg",isRound:!0,icon:(0,r.jsx)(h.Mp,{}),onClick:function(){var e=q.current.getValue(),t=D.from(e),n=D.from((0,m.Wt)(t)).toString("base64");d()(window.location.origin+"/#".concat(n))&&T({title:"Share away!",description:"A direct link has been copied to the clipboard",status:"success",duration:3e3,position:"top",isClosable:!0})},disabled:!q}),(0,r.jsxs)(u.J2,{isLazy:!0,placement:"bottom-end",children:[(0,r.jsx)(u.xo,{children:(0,r.jsx)(i.hU,{"aria-label":"Help",size:"lg",isRound:!0,icon:(0,r.jsx)(h.O$D,{})})}),(0,r.jsxs)(u.yk,{children:[(0,r.jsx)(u.QH,{}),(0,r.jsx)(u.us,{}),(0,r.jsx)(u.Yt,{fontWeight:"semibold",children:"What is ZoKrates?"}),(0,r.jsxs)(u.b,{p:0,children:[(0,r.jsx)(s.xv,{p:4,children:"ZoKrates is a toolbox for zkSNARKs on Ethereum. It helps you use verifiable computation in your DApp, from the specification of your program in a high level language to generating proofs of computation to verifying those proofs in Solidity."}),(0,r.jsxs)(s.xv,{fontSize:"sm",p:4,bg:"gray.100",color:"gray.600",children:["ZoKrates version: ",x.P.version]})]})]})]}),(0,r.jsx)(i.hU,{"aria-label":"Github",size:"lg",isRound:!0,icon:(0,r.jsx)(h.rFR,{}),as:"a",href:"https://github.com/Zokrates/ZoKrates",target:"_blank"})]})]}),(0,r.jsx)(s.kC,{grow:1,width:"100%",border:"1px",borderColor:"gray.200",children:(0,r.jsxs)($,{children:[(0,r.jsx)($.Pane,{minSize:200,children:(0,r.jsx)(l.ZP,{width:"100%",options:{minimap:{enabled:!1},hideCursorInOverviewRuler:!0,fontSize:18},beforeMount:function(e){e.languages.register({id:F}),e.languages.setMonarchTokensProvider(F,R),e.languages.setLanguageConfiguration(F,P)},onMount:function(e,t){var n;try{if(window.location.hash){var r=window.location.hash.replace(/^#/,""),o=D.from(r,"base64");n=D.from((0,m.rr)(o)).toString()}else n=p.user}catch(i){console.error(i),n=p.user}var s=t.editor.createModel(n,F);s.updateOptions({insertSpaces:!0,tabSize:4}),e.setModel(s),t.editor.setModelLanguage(s,F),q.current=e},onChange:V})}),(0,r.jsx)($.Pane,{snap:!0,children:(0,r.jsxs)(c.mQ,{display:"flex",flexDirection:"column",width:"100%",height:"100%",children:[(0,r.jsxs)(c.td,{children:[(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Output"}),k&&(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Execute"}),(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Abi"})]}),(0,r.jsxs)(c.nP,{flexGrow:1,overflowY:"scroll",children:[(0,r.jsx)(c.x4,{children:I&&(0,r.jsxs)(s.EK,{display:"block",whiteSpace:"pre-wrap",bg:"white",color:"error"==I.type?"red":"green",children:["[",I.timestamp,"] ",I.message]})}),v&&k&&(0,r.jsx)(c.x4,{children:(0,r.jsx)(z,{worker:v,artifacts:k})}),(0,r.jsx)(c.x4,{children:k&&(0,r.jsx)(s.EK,{display:"block",whiteSpace:"pre",bg:"white",children:JSON.stringify(k.abi,null,2)})})]})]})})]})})]})}):(0,r.jsx)(r.Fragment,{})}}},function(e){e.O(0,[389,655,907,13,662,876,111,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
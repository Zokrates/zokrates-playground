(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6526)}])},6526:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return N},default:function(){return D}});var r=n(5893),o=n(20),s=n(8527),a=n(6723),i=n(1391),u=n(4737),c=n(298),l=n(6886),p=n(9604),f=(n(7786),n(640)),d=n.n(f),m=n(6486),g=n(7885),h=n(7294),x=n(3750),y=n(7106),b=n(3098),w=n(9762),j=n(7398),v=n(4612),S=n(660);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(u){i=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e){switch(e.type){case"field":return{type:"string",pattern:/^\d+$/,required:!0};case"u8":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,2})$"),required:!0};case"u16":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,4})$"),required:!0};case"u32":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,8})$"),required:!0};case"u64":return{type:"string",pattern:new RegExp("^(\\d+|0x[0-9a-fA-F]{1,16})$"),required:!0};case"bool":return{type:"boolean",required:!0};case"tuple":return{type:"array",minItems:e.components.elements.length,maxItems:e.components.elements.length,items:e.components.elements.map((function(e){return z(e)})),required:!0};case"array":return{type:"array",minItems:e.components.size,maxItems:e.components.size,items:z(e.components),required:!0};case"struct":return{type:"object",properties:e.components.members.reduce((function(e,t){return e[t.name]=z(t),e}),{}),required:!0};default:throw new Error("Unrecognized component type")}},A=function(e){try{return JSON.parse(e)}catch(t){return e}},E=function(e){return function(t){return S.validate(t,z(e))}},_=function(e){var t=e.artifacts.abi,n=(0,h.useState)({}),o=n[0],i=n[1],u=(0,h.useState)(null),c=u[0],p=u[1],f=(0,h.useState)(!1),d=f[0],m=f[1],g=function(e){m(!1);var t=e.data;switch(t.type){case"compute":p({type:"success",logs:t.payload.logs,result:t.payload.output,message:"Successfully computed in ".concat((t.span.end-t.span.start).toFixed(2),"ms")});break;case"error":if("compute"!==t.payload.type)return;console.error(t.payload.error),p({type:"error",message:t.payload.error})}};(0,h.useEffect)((function(){p(null),i((function(){return t.inputs.reduce((function(e,t){return C({},e,O({},t.name,{component:t,value:"",validator:E(t)}))}),{})}));var n=e.worker.onMessage().subscribe(g);return function(){return n.unsubscribe()}}),[e]);var y=function(e){return/u\d+|field/.test(e.component.type)?e.value:e.transformedValue};return(0,r.jsxs)(s.gC,{spacing:4,alignItems:"flex-start",as:"form",onSubmit:function(t){t.preventDefault(),p(null),m(!0),setTimeout((function(){var t={artifacts:e.artifacts,args:Object.values(o).map((function(e){return y(e)}))};e.worker.postMessage("compute",t)}),100)},minW:"200px",children:[Object.entries(o).map((function(e){var t=I(e,2),n=t[0],a=t[1],u=a.validator(y(a)),c=""!=a.value&&!u.valid;return(0,r.jsxs)(w.NI,{isInvalid:c,children:[(0,r.jsxs)(w.lX,{children:[(0,r.jsx)(s.xv,{fontWeight:"bold",as:"span",children:n}),": ",a.component.type]}),(0,r.jsx)(j.u,{hasArrow:!0,label:u.toString(),bg:"red.600",isDisabled:!c,as:"pre",whiteSpace:"pre-wrap",children:(0,r.jsx)(v.II,{type:"text",value:a.value,onChange:function(e){return function(e,t){return i(C({},o,O({},e,C({},o[e],{value:t,transformedValue:A(t)}))))}(n,e.target.value)},required:!0,fontFamily:"monospace"})})]},n)})),(0,r.jsx)(a.zx,{type:"submit",leftIcon:(0,r.jsx)(x.mz0,{}),isLoading:d,loadingText:"Running...",children:"Run"}),c&&(0,r.jsxs)(s.gC,{gap:"2",w:"full",alignItems:"flex-start",children:[(0,r.jsxs)(l.bZ,{status:c.type,color:"gray.700",children:[(0,r.jsx)(l.zM,{}),(0,r.jsx)(s.EK,{bg:"transparent",display:"block",whiteSpace:"pre",overflowX:"auto",children:c.message})]}),c.result&&(0,r.jsxs)(s.xu,{fontFamily:"monospace",w:"full",children:[(0,r.jsx)(s.xu,{color:"gray.500",textTransform:"uppercase",mb:1,children:"Output"}),(0,r.jsx)(s.EK,{display:"block",whiteSpace:"pre-wrap",children:c.result})]}),c.logs&&c.logs.length>0&&(0,r.jsxs)(s.xu,{fontFamily:"monospace",w:"full",children:[(0,r.jsx)(s.xu,{color:"gray.500",textTransform:"uppercase",mb:1,children:"Logs"}),c.logs.map((function(e,t){return(0,r.jsx)(s.xu,{children:e},t)}))]})]})]})},M=n(6904);var R=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messageSubject=new M.x,this.worker=new Worker(new URL(n.p+n.u(758),n.b)),this.worker.onmessage=function(e){return t.messageSubject.next(e)}}var t=e.prototype;return t.postMessage=function(e,t){this.worker.postMessage({type:e,payload:t})},t.onMessage=function(){return this.messageSubject.asObservable()},t.terminate=function(){this.worker.terminate()},e}(),F={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:"<",close:">",notIn:["string","comment"]}]},P={defaultToken:"",tokenPostfix:".zok",keywords:["log","assert","asm","as","bool","const","def","else","false","field","for","if","import","from","in","mut","private","public","return","struct","true","type","u8","u16","u32","u64"],typeKeywords:["bool","field","u8","u16","u32","u64"],operators:["=",">","<","!","?",":","==","<=",">=","!=","&&","||","+","-","*","**","/","&","|","^","%","<<",">>"],decimalSuffix:/(u16|u32|u64|u8|f)?/,symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z]\w*/,{cases:{"@typeKeywords":"type.identifier","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+(@decimalSuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},K=n(4748),T=n(1876).Buffer,q="zokrates",N=!0,D=function(e){var t=(0,h.useState)(e.examples),f=t[0],w=t[1],j=(0,h.useState)(null),v=j[0],S=j[1],k=(0,h.useState)(null),O=k[0],C=k[1],I=(0,h.useState)(null),z=I[0],A=I[1],E=(0,h.useState)(!1),M=E[0],N=E[1],D=(0,h.useRef)(null),Z=(0,h.useRef)(null),U=(0,o.pm)(),$=(0,h.useState)(null),L=$[0],V=$[1];(0,h.useEffect)((function(){var e=new R,t=e.onMessage().subscribe(W);if(S((function(){return e})),n.e(524).then(n.bind(n,524)).then((function(e){V((function(){return e.Allotment}))})).catch((function(e){return console.error(e,"Could not import allotment: ".concat(e.message))})),!window.location.hash){var r=localStorage.getItem("user-data");if(r){var o=JSON.parse(r),s=o.source,a=o.timestamp;U({description:"Restored from last session (".concat(new Date(a).toLocaleString(),")"),status:"info",duration:3500,position:"top",isClosable:!0}),w((function(e){return Object.assign(e,{user:s})}))}}return function(){return t.unsubscribe()}}),[]);var W=function(e){N(!1);var t=e.data;switch(t.type){case"compile":C((function(){return t.payload})),A({type:"success",message:"Successfully compiled in ".concat((t.span.end-t.span.start).toFixed(2),"ms (output size: ").concat((0,K.Z)(t.payload.program.length),", constraints: ").concat(t.payload.constraintCount,")"),timestamp:(new Date).toISOString()});break;case"error":if("compile"!==t.payload.type)return;console.error(t.payload.error),A({type:"error",message:t.payload.error,timestamp:(new Date).toISOString()})}},X=(0,m.debounce)((function(e){window.location.hash||"user"!==Z.current.value||localStorage.setItem("user-data",JSON.stringify({source:e,timestamp:Date.now()}))}),250);return L?(0,r.jsx)(s.kC,{as:"main",minHeight:"100vh",children:(0,r.jsxs)(s.gC,{width:"100%",children:[(0,r.jsxs)(s.kC,{p:4,width:"100%",justifyContent:"space-between",children:[(0,r.jsxs)(s.Ug,{spacing:"12px",children:[(0,r.jsx)(a.zx,{leftIcon:(0,r.jsx)(y.T8D,{}),colorScheme:"blue",variant:"solid",onClick:function(){if(D.current){var e=D.current.getValue();N(!0),setTimeout((function(){return null===v||void 0===v?void 0:v.postMessage("compile",e)}),100)}},isLoading:M,loadingText:"Compiling",disabled:!v||!D,children:"Compile"}),(0,r.jsx)(i.Ph,{ref:Z,variant:"filled",width:"200px",defaultValue:"user",onChange:function(e){D.current.getModel().setValue(f[e.currentTarget.value])},children:Object.keys(f).map((function(e){return(0,r.jsx)("option",{children:e},e)}))})]}),(0,r.jsxs)(s.Ug,{spacing:"12px",children:[(0,r.jsx)(a.hU,{"aria-label":"Share",size:"lg",isRound:!0,icon:(0,r.jsx)(x.Mp,{}),onClick:function(){var e=D.current.getValue(),t=T.from(e),n=T.from((0,g.Wt)(t)).toString("base64");d()(window.location.origin+"/#".concat(n))&&U({title:"Share away!",description:"A direct link has been copied to the clipboard",status:"success",duration:3e3,position:"top",isClosable:!0})},disabled:!D}),(0,r.jsxs)(u.J2,{isLazy:!0,placement:"bottom-end",children:[(0,r.jsx)(u.xo,{children:(0,r.jsx)(a.hU,{"aria-label":"Help",size:"lg",isRound:!0,icon:(0,r.jsx)(x.O$D,{})})}),(0,r.jsxs)(u.yk,{children:[(0,r.jsx)(u.QH,{}),(0,r.jsx)(u.us,{}),(0,r.jsx)(u.Yt,{fontWeight:"semibold",children:"What is ZoKrates?"}),(0,r.jsxs)(u.b,{p:0,children:[(0,r.jsx)(s.xv,{p:4,children:"ZoKrates is a toolbox for zkSNARKs on Ethereum. It helps you use verifiable computation in your DApp, from the specification of your program in a high level language to generating proofs of computation to verifying those proofs in Solidity."}),(0,r.jsxs)(s.xv,{fontSize:"sm",p:4,bg:"gray.100",color:"gray.600",children:["ZoKrates version: ",b.P.version]})]})]})]}),(0,r.jsx)(a.hU,{"aria-label":"Github",size:"lg",isRound:!0,icon:(0,r.jsx)(x.rFR,{}),as:"a",href:"https://github.com/Zokrates/ZoKrates",target:"_blank"})]})]}),(0,r.jsx)(s.kC,{grow:1,width:"100%",border:"1px",borderColor:"gray.200",children:(0,r.jsxs)(L,{children:[(0,r.jsx)(L.Pane,{minSize:200,children:(0,r.jsx)(p.ZP,{width:"100%",options:{minimap:{enabled:!1},hideCursorInOverviewRuler:!0,fontSize:18},beforeMount:function(e){e.languages.register({id:q}),e.languages.setMonarchTokensProvider(q,P),e.languages.setLanguageConfiguration(q,F)},onMount:function(e,t){var n;try{if(window.location.hash){var r=window.location.hash.replace(/^#/,""),o=T.from(r,"base64");n=T.from((0,g.rr)(o)).toString()}else n=f.user}catch(a){console.error(a),n=f.user}var s=t.editor.createModel(n,q);s.updateOptions({insertSpaces:!0,tabSize:4}),e.setModel(s),t.editor.setModelLanguage(s,q),D.current=e},onChange:X})}),(0,r.jsx)(L.Pane,{snap:!0,children:(0,r.jsxs)(c.mQ,{display:"flex",flexDirection:"column",width:"100%",height:"100%",children:[(0,r.jsxs)(c.td,{children:[(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Output"}),O&&(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Execute"}),(0,r.jsx)(c.OK,{_focus:{outline:0},children:"Abi"})]}),(0,r.jsxs)(c.nP,{flexGrow:1,overflowY:"scroll",children:[(0,r.jsx)(c.x4,{children:z&&(0,r.jsxs)(l.bZ,{status:z.type,color:"gray.700",alignItems:"success"===z.type?"center":"flex-start",children:[(0,r.jsx)(l.zM,{}),(0,r.jsx)(s.EK,{bg:"transparent",display:"block",whiteSpace:"pre",overflowX:"auto",children:z.message})]})}),v&&O&&(0,r.jsx)(c.x4,{children:(0,r.jsx)(_,{worker:v,artifacts:O})}),(0,r.jsx)(c.x4,{children:O&&(0,r.jsx)(s.EK,{display:"block",whiteSpace:"pre",children:JSON.stringify(O.abi,null,2)})})]})]})})]})})]})}):(0,r.jsx)(r.Fragment,{})}}},function(e){e.O(0,[389,655,907,13,662,876,358,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);